<div id="dash-request">
  <div class="container">
    <div id="dash-request-content" class="row">
      <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1">
        <%= render 'shared/notification_request_form' %>
      </div>
    </div>
  </div>
</div>
<div id="dash-summaries">
  <div class="container">
    <div class="col-lg-4">
      <div id="dash-profile" class="well">
        <%= render 'user_profile' %>
      </div>
    </div>
    <div class="col-lg-8">
      <div id="dash-locs" class="well">
        <div class="row">
          <div class="col-lg-6">
            <h2>Locations</h2>
          </div>
          <div id="dash-add-loc-btn" class="col-lg-6">
            <a href="#" data-toggle="modal" data-target="#add-location"
               class="btn btn-success">
               Add Location
             </a>
             <%= render 'add_location' %>
          </div>
        </div>
        <div class="row">
          <div id="dash-loc-table" class="col-lg-12">
            <p><em>Drag and drop columns to update order in dropdowns.</em></p>
            <table class="table table-responsive">
              <thead>
                <th>Name</th>
                <th>Street Address</th>
                <th>City</th>
                <th>Zipcode</th>
                <th>Active?</th>
              </thead>
              <tbody>
                <% @user.locations(true).each do |loc| %>
                  <tr>
                    <td><%= loc.name %></td>
                    <td><%= loc.street %></td>
                    <td><%= loc.city %></td>
                    <td><%= loc.zipcode %></td>
                    <td class="notif-active-toggle">
                      <input id="switch-state" type="checkbox" data-size="mini"
                      checked="<%= loc.active %>">
                    </td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div id="dash-sched" class="well">
        <div id="dash-sched-header" class="row">
          <div class="col-lg-6">
            <h2>Scheduled Notifications</h2>
          </div>
          <div class="col-lg-6" id="dash-add-sched-btn">
            <button type="submit" class="btn btn-success">
              Add Scheduled Notification
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4 dash-sched-box-outer">
            <div class="dash-sched-box-inner">
              <div class="dash-sched-box-header">
                <h4>scheduled notification</h4>
                <h3>Work Commute</h3>
                <hr />
              </div>
              <div class="dash-sched-box-content">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>Time</td>
                      <td>7:30 AM</td>
                    </tr>
                    <tr>
                      <td>Method</td>
                      <td>
                        <span class="label label-default">My Cell</span>
                      </td>
                    </tr>
                    <tr>
                      <td>Days</td>
                      <td>
                        <span class="label label-default">Mon</span>
                        <span class="label label-default">Tue</span>
                        <span class="label label-default">Wed</span>
                        <span class="label label-default">Thur</span>
                        <span class="label label-default">Fri</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <hr />
              <div class="dash-sched-box-btns">
                <div class="row">
                  <div class="col-lg-5 col-lg-offset-1">
                    <button type="submit" class="btn btn-warning btn-md">
                      Edit
                    </button>
                  </div>
                  <div class="col-lg-5">
                    <button type="submit" class="btn btn-danger btn-md">
                      Delete
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div> <!-- dash-sched-box-outer -->
          <div class="col-lg-4 dash-sched-box-outer">
            <div class="dash-sched-box-inner">
              <div class="dash-sched-box-header">
                <h4>scheduled notification</h4>
                <h3>Work Commute</h3>
                <hr />
              </div>
              <div class="dash-sched-box-content">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>Time</td>
                      <td>7:30 AM</td>
                    </tr>
                    <tr>
                      <td>Method</td>
                      <td>
                        <span class="label label-default">My Cell</span>
                      </td>
                    </tr>
                    <tr>
                      <td>Days</td>
                      <td>
                        <span class="label label-default">Mon</span>
                        <span class="label label-default">Tue</span>
                        <span class="label label-default">Wed</span>
                        <span class="label label-default">Thur</span>
                        <span class="label label-default">Fri</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <hr />
              <div class="dash-sched-box-btns">
                <div class="row">
                  <div class="col-lg-5 col-lg-offset-1">
                    <button type="submit" class="btn btn-warning btn-md">Edit</button>
                  </div>
                  <div class="col-lg-5">
                    <button type="submit" class="btn btn-danger btn-md">Delete</button>
                  </div>
                </div>
              </div>
            </div>
          </div> <!-- dash-sched-box-outer -->
          <div class="col-lg-4 dash-sched-box-outer">
            <div class="dash-sched-box-inner">
              <div class="dash-sched-box-header">
                <h4>scheduled notification</h4>
                <h3>Work Commute</h3>
                <hr />
              </div>
              <div class="dash-sched-box-content">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>Time</td>
                      <td>7:30 AM</td>
                    </tr>
                    <tr>
                      <td>Method</td>
                      <td>
                        <span class="label label-default">My Cell</span>
                      </td>
                    </tr>
                    <tr>
                      <td>Days</td>
                      <td>
                        <span class="label label-default">Mon</span>
                        <span class="label label-default">Tue</span>
                        <span class="label label-default">Wed</span>
                        <span class="label label-default">Thur</span>
                        <span class="label label-default">Fri</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <hr />
              <div class="dash-sched-box-btns">
                <div class="row">
                  <div class="col-lg-5 col-lg-offset-1">
                    <button type="submit" class="btn btn-warning btn-md">Edit</button>
                  </div>
                  <div class="col-lg-5">
                    <button type="submit" class="btn btn-danger btn-md">Delete</button>
                  </div>
                </div>
              </div>
            </div>
          </div> <!-- dash-sched-box-outer -->
          <div class="col-lg-4 dash-sched-box-outer">
            <div class="dash-sched-box-inner">
              <div class="dash-sched-box-header">
                <h4>scheduled notification</h4>
                <h3>Work Commute</h3>
                <hr />
              </div>
              <div class="dash-sched-box-content">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>Time</td>
                      <td>7:30 AM</td>
                    </tr>
                    <tr>
                      <td>Method</td>
                      <td>
                        <span class="label label-default">My Cell</span>
                      </td>
                    </tr>
                    <tr>
                      <td>Days</td>
                      <td>
                        <span class="label label-default">Mon</span>
                        <span class="label label-default">Tue</span>
                        <span class="label label-default">Wed</span>
                        <span class="label label-default">Thur</span>
                        <span class="label label-default">Fri</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <hr />
              <div class="dash-sched-box-btns">
                <div class="row">
                  <div class="col-lg-5 col-lg-offset-1">
                    <button type="submit" class="btn btn-warning btn-md">Edit</button>
                  </div>
                  <div class="col-lg-5">
                    <button type="submit" class="btn btn-danger btn-md">Delete</button>
                  </div>
                </div>
              </div>
            </div>
          </div> <!-- dash-sched-box-outer -->
        </div>
      </div>
    </div>
  </div>
</div>


<% if @user.phone_numbers.count == 0 %>
  <script type="text/javascript" charset="utf-8">
    $(function() {
       $("#add-phone-number").modal();
    });
  </script>
<% end %>

<%= javascript_tag do %>
  $(".dash-sched-toggle").bootstrapSwitch();

  $(function() {
    var availableTags = [
      "Home",
      "Work",
      "School",
      "KingSoopers",
      "WholeFoods",
      "Movie Theater",
    ];

    $(function($){
      $("#phone-number").mask("(999) 999-9999");
    });

    $(".location-input").autocomplete({
      source: availableTags
    });
  });
<% end %>

<%= javascript_tag do %>
  $(".notif-active-toggle input").bootstrapSwitch();
  $(".loc-active-toggle input").bootstrapSwitch();
<% end %>
